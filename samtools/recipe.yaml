schema_version: 1

context:
  version: 1.19.2

package:
  name: samtools
  version: ${{ version }}

source:
  url: https://github.com/samtools/samtools/releases/download/${{ version }}/samtools-${{ version }}.tar.bz2
  sha256: 71f60499668e4c08e7d745fbff24c15cc8a0977abab1acd5d2bb419bdb065e96

build:
  number: 0

requirements:
  build:
    - if: linux
      then: binutils
    - make
    - ${{ compiler('c') }}
  host:
    - htslib
    - ncurses
    - zlib
  run_exports:
    - ${{ pin_subpackage("samtools", upper_bound="x") }}

tests:
  - script:
      - samtools --help
      - "samtools view 'https://example.com' 2>&1 | grep 'fail to read the header' -q"

about:
  license: MIT
  license_file: LICENSE
  summary: Tools for dealing with SAM, BAM and CRAM files
  homepage: https://github.com/samtools/samtools

extra:
  identifiers:
    - biotools:samtools
    - usegalaxy-eu:samtools_flagstat

