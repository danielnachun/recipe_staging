schema_version: 1

context:
  name: lldb
  version: 16.0.6

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  - url: https://github.com/llvm/llvm-project/releases/download/llvmorg-${{ version }}/${{ name }}-${{ version }}.src.tar.xz
    sha256: e70a2360aff09553ab327f0f87a08ab869cea991068df38fd3e530368d4d3fae
    target_directory: lldb
  - url: https://github.com/llvm/llvm-project/releases/download/llvmorg-${{ version }}/cmake-${{ version }}.src.tar.xz
    sha256: 39d342a4161095d2f28fb1253e4585978ac50521117da666e2b1f6f28b62f514
    target_directory: cmake

build:
  number: 2
  skip: win and vc<14

requirements:
  build:
    - ${{ compiler('cxx') }}
    - doxygen
    - graphviz
    - cmake >=3.4.3
    - ninja
  host:
    - python
    - llvmdev ==${{ version }}
    - clangdev ==${{ version }}
    - llvm ==${{ version }}
    - swig
    - if: not win
      then: ncurses
    - if: not win
      then: libedit
    - libxml2
    - lit
    - xz
    - six
  run:
    - if: not win
      then: ncurses
    - if: not win
      then: libedit
    - libzlib
    - python
    - six
    - libclang-cpp16
  run_constraints:
    - llvmdev ==${{ version }}
    - clangdev ==${{ version }}

tests:
  - python:
      imports:
        - lldb
      pip_check: false
  - script:
      - lldb --version

about:
  license: NCSA
  license_file: lldb/LICENSE.TXT
  summary: The LLVM Debugger
  homepage: http://llvm.org/

extra:
  recipe-maintainers:
    - isuruf

