schema_version: 1

context:
  name: bandit
  version: 1.7.7

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://pypi.io/packages/source/${{ name[0] }}/${{ name }}/${{ name }}-${{ version }}.tar.gz
  sha256: 527906bec6088cb499aae31bc962864b4e77569e9d529ee51df3a93b4b8ab28a

build:
  number: 0
  noarch: python
  script: ${{ PYTHON }} -m pip install . -vv
  python:
    entry_points:
      - bandit=bandit.cli.main:main
      - bandit-config-generator=bandit.cli.config_generator:main
      - bandit-baseline=bandit.cli.baseline:main

requirements:
  host:
    - pbr >=2.0.0
    - pip
    - python
    - setuptools
  run:
    - if: win
      then: colorama >=0.3.9
    - GitPython >=1.0.1
    - python
    - PyYAML >=5.3.1
    - rich
    - stevedore >=1.20.0

tests:
  - python:
      imports:
        - bandit
      pip_check: true
  - requirements:
      run:
        - pip
    script:
      - bandit --help

about:
  license: Apache-2.0
  license_file: LICENSE
  summary: |
    Bandit is a tool designed to find common security issues in Python code.
    To do this Bandit processes each file, builds an AST from it, and runs
    appropriate plugins against the AST nodes. Once Bandit has finished
    scanning all the files it generates a report.
  homepage: https://bandit.readthedocs.io/en/latest/
  repository: https://github.com/PyCQA/bandit
  documentation: https://bandit.readthedocs.io/en/latest/

extra:
  recipe-maintainers:
    - jkornblum
    - dbast

