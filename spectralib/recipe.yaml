schema_version: 1

context:
  version: 0.9.0

package:
  name: spectralib
  version: ${{ version }}

source:
  url: https://github.com/yixuan/spectra/archive/v${{ version }}.tar.gz
  sha256: 2966757d432e8fba5958c2a05ad5674ce34eaae3718dd546c1ba8760b80b7a3d
  file_name: spectralib-${{ version }}.tar.gz

build:
  number: 0

requirements:
  build:
    - cmake
    - ${{ compiler('cxx') }}
    - if: unix
      then: make
  host:
    - eigen
  run:
    - eigen

tests:
  - script:
      - if: unix
        then: test -f ${PREFIX}/include/Spectra/GenEigsSolver.h
      - if: win
        then: if not exist %LIBRARY_PREFIX%\\include\\Spectra\\GenEigsSolver.h exit 1

about:
  license: MPL-2.0
  license_file: LICENSE
  summary: A header-only C++ library for large scale eigenvalue problems
  homepage: https://spectralib.org/

extra:
  recipe-maintainers:
    - jschueller

