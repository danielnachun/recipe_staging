{% set name = "mpd" %}
{% set version = "0.23.15" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/MusicPlayerDaemon/MPD/archive/refs/tags/v{{ version }}.tar.gz
  sha256: d2865d8f8ea79aa509b1465b99a2b8f3f449fe894521c97feadc2dca85a6ecd2

build:
  number: 0
  ignore_run_exports:
    - libboost

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - expat
    - meson
    - ninja
    - pkg-config
    - sysroot_linux-64=2.17  # [linux]
  host:
    - alsa-lib  # [linux]
    - curl
    - faad2
    - ffmpeg
    - fluidsynth
    - fmt
    - icu
    - jack  # [linux]
    - lame
    - libao
    - libboost-devel
    - dbus  # [linux]
    - libflac
    - libid3tag
    - libmpdclient
    - libnfs
    - libopus
    - libsamplerate
    - libshout
    - libupnp
    - libvorbis
    - pulseaudio-client  # [linux]
    - speex
    - wavpack
  run:
    - alsa-lib  # [linux]
    - bzip2
    - faad2
    - ffmpeg
    - fluidsynth
    - fmt
    - icu
    - jack  # [linux]
    - lame
    - libao
    - libboost
    - libcurl
    - dbus  # [linux]
    - libexpat
    - libflac
    - libid3tag
    - libmpdclient
    - libnfs
    - libogg
    - libopus
    - libsamplerate
    - libshout
    - libsndfile
    - libsqlite
    - libupnp
    - libvorbis
    - libzlib
    - mpg123
    - pcre2
    - pulseaudio-client  # [linux]
    - speex
    - wavpack

test:
  commands:
    - mpd --version

about:
  home: https://www.musicpd.org/libs/libmpdclient/
  license: BSD-3-Clause
  license_file: COPYING
  summary: Library for MPD in the C, C++, and Objective-C languages

extra:
  recipe-maintainers:
    - danielnachun
